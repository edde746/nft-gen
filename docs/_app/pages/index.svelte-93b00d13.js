import{S as xe,i as De,s as Ie,e as r,c as n,a as f,d as o,b as l,g as ge,J as e,t as x,k as _,h as D,m as k,L as ye,j as Se,K as _e,M as Ve,N as je,O as ke,P as Oe,Q as Fe}from"../chunks/vendor-b5824c54.js";function we(b){let t,s,i,c;return{c(){t=r("div"),s=r("div"),this.h()},l(h){t=n(h,"DIV",{class:!0});var u=f(t);s=n(u,"DIV",{class:!0,style:!0}),f(s).forEach(o),u.forEach(o),this.h()},h(){l(s,"class",i="bg-sky-300 h-3 rounded-full "+(b[3]>.95?"animate-pulse":"")),l(s,"style",c=`width:${b[3]*100}%`),l(t,"class","w-full bg-sky-100 rounded-full h-3")},m(h,u){ge(h,t,u),e(t,s)},p(h,u){u&8&&i!==(i="bg-sky-300 h-3 rounded-full "+(h[3]>.95?"animate-pulse":""))&&l(s,"class",i),u&8&&c!==(c=`width:${h[3]*100}%`)&&l(s,"style",c)},d(h){h&&o(t)}}}function Ne(b){let t,s,i,c,h,u,L,P,I,S,j,v,a=(Object.keys(b[1]).length?"\u2705 Selected":"Select Folder")+"",d,g,w,B,O,C,y,R,Q,Z,F,W,X,Y,$,V,T,ee,te,G,se,ae,z,le,re,N,ne,oe,H,ie,ce,p=b[3]>0&&b[3]<1&&we(b);return{c(){t=r("div"),s=r("div"),i=r("h1"),c=x("\u{1F4F8} NFT Generator"),h=_(),u=r("p"),L=x("Generate 1000s of NFT pictures in seconds from components"),P=_(),I=r("div"),S=r("label"),j=r("input"),v=_(),d=x(a),g=_(),w=r("button"),B=x("Generate"),O=_(),p&&p.c(),C=_(),y=r("div"),R=r("h2"),Q=x("How to use"),Z=_(),F=r("p"),W=x("Select a folder with a subfolder for each component layer,"),X=r("br"),Y=x(" layer position is sorted by folder name, for example:"),$=_(),V=r("div"),T=r("div"),ee=x("1-bg/"),te=_(),G=r("div"),se=x("2-body/"),ae=_(),z=r("div"),le=x("3-face/"),re=_(),N=r("a"),ne=x("Download Example"),oe=_(),H=r("canvas"),this.h()},l(E){t=n(E,"DIV",{class:!0});var m=f(t);s=n(m,"DIV",{class:!0});var J=f(s);i=n(J,"H1",{class:!0});var de=f(i);c=D(de,"\u{1F4F8} NFT Generator"),de.forEach(o),h=k(J),u=n(J,"P",{});var fe=f(u);L=D(fe,"Generate 1000s of NFT pictures in seconds from components"),fe.forEach(o),J.forEach(o),P=k(m),I=n(m,"DIV",{class:!0});var q=f(I);S=n(q,"LABEL",{class:!0});var K=f(S);j=n(K,"INPUT",{class:!0,type:!0,webkitdirectory:!0}),v=k(K),d=D(K,a),K.forEach(o),g=k(q),w=n(q,"BUTTON",{class:!0});var he=f(w);B=D(he,"Generate"),he.forEach(o),q.forEach(o),O=k(m),p&&p.l(m),C=k(m),y=n(m,"DIV",{class:!0});var A=f(y);R=n(A,"H2",{class:!0});var ue=f(R);Q=D(ue,"How to use"),ue.forEach(o),Z=k(A),F=n(A,"P",{class:!0});var M=f(F);W=D(M,"Select a folder with a subfolder for each component layer,"),X=n(M,"BR",{}),Y=D(M," layer position is sorted by folder name, for example:"),M.forEach(o),$=k(A),V=n(A,"DIV",{class:!0});var U=f(V);T=n(U,"DIV",{class:!0});var ve=f(T);ee=D(ve,"1-bg/"),ve.forEach(o),te=k(U),G=n(U,"DIV",{class:!0});var pe=f(G);se=D(pe,"2-body/"),pe.forEach(o),ae=k(U),z=n(U,"DIV",{class:!0});var be=f(z);le=D(be,"3-face/"),be.forEach(o),U.forEach(o),re=k(A),N=n(A,"A",{class:!0,href:!0,rel:!0});var me=f(N);ne=D(me,"Download Example"),me.forEach(o),A.forEach(o),oe=k(m),H=n(m,"CANVAS",{class:!0}),f(H).forEach(o),m.forEach(o),this.h()},h(){l(i,"class","text-xl font-semibold text-sky-500"),l(s,"class","text-center"),l(j,"class","hidden"),l(j,"type","file"),l(j,"webkitdirectory",""),l(S,"class","btn bg-sky-100 text-sky-700 hover:bg-sky-200 cursor-pointer"),l(w,"class","btn bg-sky-100 text-sky-700 hover:bg-sky-200"),l(I,"class","flex gap-3 justify-center"),l(R,"class","text-lg font-semibold text-zinc-600"),l(F,"class","text-zinc-500 mb-4"),l(T,"class","bg-sky-100 rounded-md w-24 h-16 p-1"),l(G,"class","bg-sky-200 rounded-md w-24 h-16 p-1 -ml-4"),l(z,"class","bg-sky-300 rounded-md w-24 h-16 p-1 -ml-4"),l(V,"class","flex justify-center mb-4"),l(N,"class","btn bg-sky-100 text-sky-700 hover:bg-sky-200 inline-block"),l(N,"href","example.zip"),l(N,"rel","external"),l(y,"class","text-center"),l(H,"class","hidden"),l(t,"class","grid gap-3 justify-center")},m(E,m){ge(E,t,m),e(t,s),e(s,i),e(i,c),e(s,h),e(s,u),e(u,L),e(t,P),e(t,I),e(I,S),e(S,j),e(S,v),e(S,d),e(I,g),e(I,w),e(w,B),e(t,O),p&&p.m(t,null),e(t,C),e(t,y),e(y,R),e(R,Q),e(y,Z),e(y,F),e(F,W),e(F,X),e(F,Y),e(y,$),e(y,V),e(V,T),e(T,ee),e(V,te),e(V,G),e(G,se),e(V,ae),e(V,z),e(z,le),e(y,re),e(y,N),e(N,ne),e(t,oe),e(t,H),b[8](H),ie||(ce=[ye(j,"change",b[6]),ye(w,"click",b[7])],ie=!0)},p(E,[m]){m&2&&a!==(a=(Object.keys(E[1]).length?"\u2705 Selected":"Select Folder")+"")&&Se(d,a),E[3]>0&&E[3]<1?p?p.p(E,m):(p=we(E),p.c(),p.m(t,C)):p&&(p.d(1),p=null)},i:_e,o:_e,d(E){E&&o(t),p&&p.d(),b[8](null),ie=!1,Ve(ce)}}}function*Ee(b,...t){let s=t.length?Ee(...t):[[]];for(let i of s)for(let c of b)yield[c,...i]}function Ae(b,t,s){let i,c={},h=!1,u=0,L=async v=>{const a=i.getContext("2d");a.clearRect(0,0,a.canvas.width,a.canvas.height);for(let d of v)await new Promise(g=>{const w=new FileReader;w.addEventListener("load",B=>{const O=new Image;O.addEventListener("load",()=>{h||(a.canvas.width=O.width,a.canvas.height=O.height,s(2,h=!0)),a.drawImage(O,0,0,a.canvas.width,a.canvas.height),g()}),O.src=B.target.result}),w.readAsDataURL(d)})};const P=v=>Object.keys(v).sort().reduce((a,d)=>(a[d]=v[d],a),{}),I=v=>{[...v.target.files].forEach(a=>{const d=a.webkitRelativePath.split("/").slice(1).join("/");if(d.split("/").length!=2)return;const[g,w]=d.split("/");s(1,c[g]=c.hasOwnProperty(g)?[...c[g],a]:[a],c)}),s(1,c=P(c)),s(2,h=!1)},S=async()=>{var v=new je;const a=[...Ee(...Object.values(c).filter(d=>d))];for(let d in a){s(3,u=d/a.length),await L(a[d]);let g=i.toDataURL();v.file(`${ke()}.png`,g.substr(g.indexOf(",")+1),{base64:!0})}v.generateAsync({type:"blob"}).then(d=>{Oe.exports.saveAs(d,`${ke()}.zip`),s(3,u=2)})};function j(v){Fe[v?"unshift":"push"](()=>{i=v,s(0,i)})}return[i,c,h,u,L,P,I,S,j]}class Pe extends xe{constructor(t){super();De(this,t,Ae,Ne,Ie,{})}}export{Pe as default};
